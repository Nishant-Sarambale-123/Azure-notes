Perfect ğŸ‘ Letâ€™s now cover **Databases in Azure**.
As before, Iâ€™ll give you **Detailed Notes â†’ Interview Q\&A (basic â†’ advanced) â†’ Scenario Q\&A**.

---

# ğŸ—„ï¸ Core Azure Services â€“ Databases

## ğŸ“‘ Azure SQL Database (PaaS)

* **Fully managed relational database service** (Microsoft SQL Server engine).
* **PaaS offering** â†’ Microsoft manages patching, backups, HA, scaling.
* **Deployment models**:

  * Single database (isolated, dedicated resources).
  * Elastic pool (multiple DBs share resources).
  * Hyperscale (up to 100 TB, auto scaling).
* **Features**:

  * Built-in HA (99.995% SLA).
  * Auto backups, point-in-time restore (up to 35 days).
  * Active geo-replication for DR.
  * Integration with AAD authentication & RBAC.

---

## ğŸ’» Managed SQL Server (IaaS â€“ SQL on VM)

* SQL Server installed on **Azure Virtual Machine**.
* **IaaS offering** â†’ Full control over SQL instance + OS.
* Good for:

  * Lift-and-shift migrations.
  * Apps requiring SQL Server features not supported in PaaS.
* Cons:

  * You manage patching, HA, backups, scaling.

---

## ğŸŒ Cosmos DB (NoSQL, Multi-model)

* **Globally distributed, multi-model database** (NoSQL).
* Models supported:

  * Key-value (Table API).
  * Document (SQL API).
  * Column-family (Cassandra API).
  * Graph (Gremlin API).
  * MongoDB API.
* Features:

  * Multi-region replication (read/write across globe).
  * Low latency (99th percentile < 10 ms).
  * SLA on **latency, throughput, availability, consistency**.
* **Consistency levels**: Strong, Bounded Staleness, Session, Consistent Prefix, Eventual.

---

## ğŸ˜ PostgreSQL/MySQL/MariaDB (PaaS Services)

* **Azure Database for PostgreSQL/MySQL/MariaDB** â†’ Managed relational database services.
* Variants:

  * **Single Server**: simple, cost-efficient, built-in HA.
  * **Flexible Server (new)**: more control (maintenance windows, zone-redundant HA).
  * **Hyperscale PostgreSQL (Citus)**: distributed Postgres for big workloads.
* Features:

  * Auto patching, scaling, monitoring.
  * AAD integration, encryption.

---

## ğŸ“‚ Azure Data Lake Storage (ADLS)

* **Scalable, secure data lake for big data analytics**.
* Built on **Azure Blob Storage**.
* Designed for **Hadoop/Spark analytics workloads**.
* Features:

  * Hierarchical namespace (folders/directories).
  * Integrates with **Azure Synapse, Databricks, HDInsight**.
  * Security: AAD, RBAC, POSIX-like ACLs.
* Good for:

  * Storing structured/unstructured/semi-structured data.
  * Large-scale analytics (data science, ML).

---

# ğŸ¯ Interview Questions & Answers

### Basic

1. **Q: Whatâ€™s the difference between Azure SQL Database and SQL Server on VM?**

   * **A**: SQL Database = PaaS, managed by Microsoft. SQL on VM = IaaS, full control but you manage patching/HA.

2. **Q: What is Cosmos DB used for?**

   * **A**: Globally distributed, NoSQL database supporting multiple APIs (SQL, MongoDB, Cassandra, Gremlin, Table).

3. **Q: What is Azure Data Lake Storage?**

   * **A**: A big data storage solution built on Blob, with hierarchical namespace, optimized for analytics (Synapse, Databricks).

---

### Intermediate

4. **Q: What are Cosmos DB consistency models?**

   * **A**:

     * Strong â†’ most consistent, least available.
     * Bounded Staleness â†’ lag of N versions/time.
     * Session â†’ consistency per session.
     * Consistent Prefix â†’ order preserved.
     * Eventual â†’ highly available, may be inconsistent temporarily.

5. **Q: When would you use PostgreSQL Flexible Server vs Single Server?**

   * **A**: Flexible Server gives control over maintenance windows, HA options, and better performance tuning. Single Server is cheaper and simpler.

6. **Q: How does Azure SQL Database achieve high availability?**

   * **A**: Built-in replicas, automatic failover, geo-replication across regions, 99.995% SLA.

---

### Advanced

7. **Q: How do you design a multi-region active-active database architecture in Azure?**

   * **A**: Use Cosmos DB with multi-master write replication. For SQL, use Active Geo-Replication.

8. **Q: How does Data Lake differ from Blob Storage?**

   * **A**: Data Lake = Blob with hierarchical namespace + analytics integration. Blob = general-purpose object storage.

9. **Q: When would you choose Cosmos DB over Azure SQL?**

   * **A**: For global scale, multi-region writes, low-latency NoSQL workloads. SQL is better for relational, transactional workloads.

---

# ğŸ›  Scenario-Based Q\&A

1. **Scenario**: You are migrating a legacy SQL Server app that requires SQL Agent jobs and CLR integration. Which option?

   * **Answer**: SQL Server on VM (IaaS) â†’ PaaS SQL Database does not support all features.

2. **Scenario**: A gaming app requires <10ms latency and multi-region writes. Which database fits?

   * **Answer**: Cosmos DB with multi-master replication.

3. **Scenario**: A fintech company needs relational DB with strict compliance (HA, backups, scaling). Which service?

   * **Answer**: Azure SQL Database (PaaS) with geo-replication.

4. **Scenario**: You need to run advanced analytics on large amounts of log and clickstream data. Where do you store it?

   * **Answer**: Azure Data Lake Storage â†’ then query with Synapse/Databricks.

5. **Scenario**: An e-commerce company uses MySQL on-prem. They want to migrate to Azure with minimal admin. Solution?

   * **Answer**: Azure Database for MySQL (Flexible Server).

6. **Scenario**: You need to analyze TBs of sensor data stored daily and integrate with ML models. Which storage/database combo?

   * **Answer**: Store in **ADLS**, process with **Databricks/Synapse**, ML with Azure Machine Learning.

---

âš¡ Nishant, do you want me to continue next with **Security & Identity (Azure AD, RBAC, Managed Identities, Key Vault, Policies, Defender)** or **Monitoring & Management (Monitor, Log Analytics, Alerts, Cost Management, Advisor)**?
